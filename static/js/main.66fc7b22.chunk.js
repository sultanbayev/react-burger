(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{119:function(e,t,n){e.exports={container:"styles_container__2rbZD"}},123:function(e,t,n){e.exports={overlay:"styles_overlay__2qOmZ"}},124:function(e,t,n){e.exports={tab_bar:"styles_tab_bar__2GtLa"}},125:function(e,t,n){e.exports={wrapper:"style_wrapper__2wKrl"}},126:function(e,t,n){e.exports={wrapper:"style_wrapper__15Tuw",orders:"style_orders__kufCn"}},127:function(e,t,n){e.exports={logo:"styles_logo__28LwD"}},128:function(e,t,n){e.exports={main:"style_main__FS2oU"}},136:function(e,t,n){},22:function(e,t,n){e.exports={list:"styles_list__2Jgtx",outerList:"styles_outerList__2zWVk",bun:"styles_bun__TQv7V",dummy:"styles_dummy__2Zuy0",staffing:"styles_staffing__3oxyY",ingredients_container:"styles_ingredients_container__2l_FQ"}},223:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(37),a=n.n(c),i=(n(136),n(5)),o=n(119),l=n.n(o),u=n(12),d=n(2),j=n(38),m=n(22),b=n.n(m),O=n(62),_=n.n(O),p=n(4),x=n(46),f=x.c,h=function(){return Object(x.b)()},y=n(10),g=n.n(y),v=n(21);function N(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function E(e,t,n){var s=(n=n||{}).expires;if("number"==typeof s&&s){var r=new Date;r.setTime(r.getTime()+1e3*s),s=n.expires=r}s&&s.toUTCString&&(n.expires=s.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var a in n){c+="; "+a;var i=n[a];!0!==i&&(c+="="+i)}document.cookie=c}function S(e){0===e.indexOf("Bearer")&&E("accessToken",e.split("Bearer ")[1],void 0)}var w="https://norma.nomoreparties.space/api";function C(e,t){var n={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)};return fetch(w+e,n)}function R(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}function T(){return(T=Object(v.a)(g.a.mark((function e(t){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",authorization:"Bearer "+N("accessToken")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)},e.next=3,fetch(w+"/orders",n);case 3:return s=e.sent,e.abrupt("return",R(s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/ingredients");case 2:return t=e.sent,e.abrupt("return",R(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/password-reset",t);case 2:return n=e.sent,e.abrupt("return",R(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/password-reset/reset",t);case 2:return n=e.sent,e.abrupt("return",R(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D="GET_INGREDIENTS_REQUEST",P="GET_INGREDIENTS_SUCCESS",M="GET_INGREDIENTS_FAILED",q="INCREASE_INGREDIENT_COUNT",A="DECREASE_INGREDIENT_COUNT",F="RESET_INGREDIENTS_COUNT",L=function(){return{type:M}},G=function(){return function(e){e({type:D}),function(){return I.apply(this,arguments)}().then((function(t){var n;t&&t.success?e((n=t.data,{type:P,items:n})):e(L())})).catch((function(t){e(L())}))}},B="ADD_CONSTRUCTOR_COMPONENT",H="REMOVE_CONSTRUCTOR_COMPONENT",W="REORDER_CONSTRUCTOR_COMPONENTS",z="CLEAR_CONSTRUCTOR_COMPONENTS",Q=function(e){return function(t){t(function(e){return{type:B,item:e}}(e)),t(function(e){return{type:q,item:e}}(e))}},J=function(){return function(e){e({type:z}),e({type:F})}},V=function(e){return function(t){t(function(e){return{type:H,item:e}}(e)),t(function(e){return{type:A,item:e}}(e))}},K=n(230),Z=n(231),Y="INGREDIENT",X="CONSTRUCTOR_ITEM",$=n(0),ee=function(e){var t=e.type,n=e.isLocked,r=e.component,c=e.index,a=e.moveComponent,o=Object(s.useRef)(null),l=h(),u=Object(K.a)({accept:X,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(o.current){var s,r=e.index;if(void 0!==c&&r!==(s=c)){var i=null===(n=o.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(i.bottom-i.top)/2,u=t.getClientOffset(),d=u?u.y-i.top:null;if(d){if(r<s&&d<l)return;if(r>s&&d>l)return}a&&a(r,s),e.index=s}}}}),d=Object(i.a)(u,2),j=d[0].handlerId,m=d[1],b=Object(Z.a)({type:X,item:function(){return{id:r.uuid,index:c}},collect:function(e){return{isDragging:e.isDragging()}}}),O=Object(i.a)(b,2),x=O[0].isDragging;return(0,O[1])(m(o)),"bun"===r.type?Object($.jsx)("div",{className:_.a.component,children:Object($.jsx)(p.ConstructorElement,{type:t,isLocked:n,text:r.name,price:r.price,thumbnail:r.image})}):Object($.jsxs)("div",{ref:o,style:{opacity:x?0:1},className:_.a.component,"data-handler-id":j,children:[!n&&Object($.jsx)("div",{className:_.a.drag_icon,children:Object($.jsx)(p.DragIcon,{type:"primary"})}),Object($.jsx)(p.ConstructorElement,{isLocked:n,text:r.name,price:r.price,thumbnail:r.image,handleClose:function(){l(V(r))}})]})},te=r.a.memo(ee),ne=n(39),se=n.n(ne),re=function(e){var t=e.children,n=e.type,r=Object(s.useMemo)((function(){switch(n){case"top":return[se.a.dummy,se.a.dummy_top].join(" ");case"bottom":return[se.a.dummy,se.a.dummy_bottom].join(" ");default:return se.a.dummy}}),[n]);return Object($.jsx)("div",{className:r,children:Object($.jsx)("p",{className:"text text_type_main-default",children:t})})},ce=Object(s.memo)(re),ae=n(232),ie=["count"];var oe=function(){var e=h(),t=f((function(e){return e.burgerConstructor})),n=t.bun,r=t.staffings,c=Object(K.a)({accept:Y,collect:function(e){return{isHover:e.isOver()}},drop:function(t){t.count;var n=Object(j.a)(t,ie);e(Q(Object(d.a)(Object(d.a)({},n),{},{uuid:Object(ae.a)()})))}}),a=Object(i.a)(c,2)[1],o=Object(s.useCallback)((function(t,n){var s=Object(u.a)(r),c=s[t];s.splice(t,1),s.splice(n,0,c),e({type:W,reordered:s})}),[r]);return Object($.jsxs)("ul",{ref:a,className:"".concat(b.a.list," ").concat(b.a.outerList),children:[n?Object($.jsx)("li",{className:b.a.bun,children:Object($.jsx)(te,{type:"top",isLocked:!0,component:Object(d.a)(Object(d.a)({},n),{},{name:n.name+" (\u0432\u0435\u0440\u0445)"})})}):Object($.jsx)("li",{className:b.a.dummy,children:Object($.jsx)(ce,{type:"top",children:"\u0412\u0435\u0440\u0445\u043d\u044f\u044f \u0431\u0443\u043b\u043a\u0430"})}),r&&r.length?Object($.jsx)("li",{className:b.a.ingredients_container,children:Object($.jsx)("ul",{className:b.a.list,children:r.map((function(e,t){return Object($.jsx)("li",{className:b.a.staffing,children:Object($.jsx)(te,{component:e,index:t,moveComponent:o})},e.uuid)}))})}):Object($.jsx)("li",{className:b.a.dummy,children:Object($.jsx)(ce,{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),n?Object($.jsx)("li",{className:b.a.bun,children:Object($.jsx)(te,{type:"bottom",isLocked:!0,component:Object(d.a)(Object(d.a)({},n),{},{name:n.name+" (\u043d\u0438\u0437)"})})}):Object($.jsx)("li",{className:b.a.dummy,children:Object($.jsx)(ce,{type:"bottom",children:"\u041d\u0438\u0436\u043d\u044f\u044f \u0431\u0443\u043b\u043a\u0430"})})]})},le=n(47),ue=n.n(le),de="GET_ORDER_REQUEST",je="GET_ORDER_SUCCESS",me="GET_ORDER_FAILED",be="RESET_ORDER",Oe=function(){return{type:me}},_e=function(e){return function(t){t({type:de}),function(e){return T.apply(this,arguments)}(e).then((function(e){if(e&&e.success){var n=e.order.number.toString();t(function(e){return{type:je,number:e}}(n)),t(J())}else t(Oe())})).catch((function(e){t(Oe())}))}},pe=n(9);var xe=function(){var e=h(),t=f((function(e){return{bun:e.burgerConstructor.bun,staffings:e.burgerConstructor.staffings,orderRequest:e.order.orderRequest,isAuthorised:e.user.isAuthorised}})),n=t.bun,r=t.staffings,c=t.orderRequest,a=t.isAuthorised,i=Object(s.useMemo)((function(){if(n&&0!==r.length){var e=r.map((function(e){return e._id}));return[n._id,n._id].concat(Object(u.a)(e))}return null}),[n,r]),o=Object(pe.g)(),l=Object(s.useMemo)((function(){return(n?2*n.price:0)+r.reduce((function(e,t){return e+t.price}),0)}),[n,r]);return Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:ue.a.messages,children:c&&Object($.jsx)("p",{className:"text text_type_main-default mt-6",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u0430..."})}),Object($.jsxs)("div",{className:ue.a.order_info,children:[Object($.jsxs)("div",{className:ue.a.total,children:[Object($.jsx)("p",{className:"text text_type_digits-medium mr-2",children:l}),Object($.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object($.jsx)("div",{className:ue.a.submit,children:Object($.jsx)(p.Button,{type:"primary",size:"large",onClick:function(){a?i&&e(_e({ingredients:i})):o.push("/login")},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})]})]})},fe=n(63),he=n.n(fe),ye=n(123),ge=n.n(ye),ve=function(e){var t=e.onClose;return Object($.jsx)("div",{className:ge.a.overlay,onClick:t})},Ne=r.a.memo(ve),Ee=document.getElementById("modal-root"),Se=function(e){var t=e.children,n=e.onClose;return Object(s.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]),a.a.createPortal(Object($.jsxs)("div",{className:he.a.container,children:[Object($.jsxs)("div",{className:he.a.modal,children:[Object($.jsx)("div",{className:he.a.close,children:Object($.jsx)(p.CloseIcon,{type:"primary",onClick:n})}),t]}),Object($.jsx)(Ne,{onClose:n})]}),Ee)},we=r.a.memo(Se),Ce=n(89),Re=n.n(Ce),Te=n.p+"static/media/confirm-order.7341dd32.svg",Ie=function(e){var t=e.orderNumber,n=h();return Object(s.useEffect)((function(){return function(){n({type:be})}}),[]),Object($.jsxs)("div",{className:Re.a.container,children:[Object($.jsx)("h2",{className:"text text_type_digits-large mb-8 "+Re.a.order_number,children:t}),Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object($.jsx)("div",{className:"mt-15 mb-15",children:Object($.jsx)("img",{src:Te,alt:"React Logo"})}),Object($.jsx)("p",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ke=r.a.memo(Ie);var Ue=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(s.useCallback)((function(){r(!1)}),[]),a=f((function(e){return e.order})).number;return Object(s.useEffect)((function(){a&&r(!0)}),[a]),Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("section",{className:l.a.container,children:[Object($.jsx)(oe,{}),Object($.jsx)(xe,{})]}),n&&a&&Object($.jsx)(we,{onClose:c,children:Object($.jsx)(ke,{orderNumber:a})})]})},De=n(90),Pe=n.n(De),Me=n(124),qe=n.n(Me),Ae=function(e){var t=e.active,n=r.a.useState("buns"),c=Object(i.a)(n,2),a=c[0],o=c[1];Object(s.useEffect)((function(){o(t)}),[t]);var l=function(e){o(e);var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return Object($.jsxs)("div",{className:qe.a.tab_bar,children:[Object($.jsx)(p.Tab,{value:"buns",active:"buns"===a,onClick:l,children:"\u0411\u0443\u043b\u043a\u0438"}),Object($.jsx)(p.Tab,{value:"sauces",active:"sauces"===a,onClick:l,children:"\u0421\u043e\u0443\u0441\u044b"}),Object($.jsx)(p.Tab,{value:"mains",active:"mains"===a,onClick:l,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})},Fe=r.a.memo(Ae),Le=n(91),Ge=n.n(Le),Be=n(48),He=n.n(Be),We=n(6),ze=function(e){var t=e.ingredient,n=Object(pe.h)(),s=Object(Z.a)({type:Y,item:t}),r=Object(i.a)(s,2)[1];return Object($.jsxs)("article",{ref:r,className:He.a.card,children:[Object($.jsx)(We.b,{to:{pathname:"/ingredient/".concat(t._id),state:{background:n,ingredient:t}},children:Object($.jsx)("img",{className:He.a.image,src:t.image,alt:t.name})}),Object($.jsxs)("div",{className:He.a.price,children:[Object($.jsx)("p",{className:"text text_type_digits-default mr-2",children:t.price}),Object($.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object($.jsx)(We.b,{to:{pathname:"/ingredient/".concat(t._id),state:{background:n,ingredient:t}},children:Object($.jsx)("div",{className:He.a.name,children:Object($.jsx)("h3",{className:"text text_type_main-default",children:t.name})})}),!!t.count&&0!==t.count&&Object($.jsx)(p.Counter,{count:t.count,size:"default"})]})},Qe=r.a.memo(ze),Je=function(e){var t=e.name,n=e.id,r=e.items,c=e.setHeight,a=f((function(e){return e.burgerIngredients})).itemsRequest,i=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(i&&i.current){var e=i.current.getBoundingClientRect().height;c(e)}}),[r]),Object($.jsxs)("section",{ref:i,children:[Object($.jsx)("h2",{id:n,className:"text text_type_main-medium mb-6",children:t}),a?Object($.jsx)("p",{className:"text text_type_main-default mb-10",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object($.jsx)("ul",{className:Ge.a.list,children:0===r.length?Object($.jsx)("p",{className:"text text_type_main-default",children:"\u041e\u0439, \u043f\u043e\u0445\u043e\u0436\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442..."}):r.map((function(e,t){return Object($.jsx)("li",{className:Ge.a.item,children:Object($.jsx)(Qe,{ingredient:e})},t)}))})]})},Ve=r.a.memo(Je);var Ke=function(){var e=f((function(e){return e.burgerIngredients})).items,t=Object(s.useMemo)((function(){return e.filter((function(e){return"bun"===e.type}))}),[e]),n=Object(s.useMemo)((function(){return e.filter((function(e){return"sauce"===e.type}))}),[e]),r=Object(s.useMemo)((function(){return e.filter((function(e){return"main"===e.type}))}),[e]),c=Object(s.useState)(0),a=Object(i.a)(c,2),o=a[0],l=a[1],u=Object(s.useState)(0),d=Object(i.a)(u,2),j=d[0],m=d[1],b=Object(s.useState)(0),O=Object(i.a)(b,2),_=O[0],p=O[1],x=Object(s.useState)("buns"),h=Object(i.a)(x,2),y=h[0],g=h[1];return Object($.jsxs)("section",{className:Pe.a.container,children:[Object($.jsx)("h1",{className:"text text_type_main-large mb-5 mt-10",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object($.jsx)(Fe,{active:y}),Object($.jsxs)("section",{onScroll:function(e){var t=e.currentTarget.scrollTop;t>=0&&t<o?g("buns"):t>=o&&t<o+j?g("sauces"):t>=o+j&&t<o+j+_&&g("mains")},className:Pe.a.groups,children:[Object($.jsx)(Ve,{id:"buns",setHeight:l,name:"\u0411\u0443\u043b\u043a\u0438",items:t}),Object($.jsx)(Ve,{id:"sauces",setHeight:m,name:"\u0421\u043e\u0443\u0441\u044b",items:n}),Object($.jsx)(Ve,{id:"mains",setHeight:p,name:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430",items:r})]})]})},Ze=n(229),Ye=n(130),Xe=n(125),$e=n.n(Xe);var et=function(){return Object($.jsx)($.Fragment,{children:Object($.jsx)(Ze.a,{backend:Ye.a,children:Object($.jsxs)("div",{className:$e.a.wrapper,children:[Object($.jsx)(Ke,{}),Object($.jsx)(Ue,{})]})})})},tt=n(93),nt=n.n(tt);var st=function(){return Object($.jsx)("div",{className:nt.a.wrapper,children:Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"text text_type_main-large",children:"404. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430."}),Object($.jsx)("p",{className:"text text_type_main-default",children:Object($.jsx)(We.b,{to:"/",className:nt.a.link,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})},rt=n(23),ct=n(49),at=n.n(ct);function it(){return(it=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/auth/register",t);case 2:return n=e.sent,e.abrupt("return",R(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return(ot=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/auth/login",t);case 2:return n=e.sent,e.abrupt("return",R(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return(lt=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",authorization:"Bearer "+N("accessToken")},redirect:"follow",referrerPolicy:"no-referrer"},e.next=3,fetch(w+"/auth/user",t);case 3:return n=e.sent,e.abrupt("return",R(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/auth/token",t);case 2:return n=e.sent,e.abrupt("return",R(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return(dt=Object(v.a)(g.a.mark((function e(t){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",authorization:"Bearer "+N("accessToken")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)},e.next=3,fetch(w+"/auth/user",n);case 3:return s=e.sent,e.abrupt("return",R(s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt="REGISTER_REQUEST",mt="REGISTER_SUCCESS",bt="REGISTER_FAILED",Ot="LOGIN_REQUEST",_t="LOGIN_SUCCESS",pt="LOGIN_FAILED",xt="FORGOT_PASSWORD_REQUEST",ft="FORGOT_PASSWORD_SUCCESS",ht="FORGOT_PASSWORD_FAILED",yt="RESET_PASSWORD_REQUEST",gt="RESET_PASSWORD_SUCCESS",vt="RESET_PASSWORD_FAILED",Nt="GET_USER_REQUEST",Et="GET_USER_SUCESS",St="GET_USER_FAILED",wt="REFRESH_TOKEN_REQUEST",Ct="REFRESH_TOKEN_SUCCESS",Rt="REFRESH_TOKEN_FAILED",Tt="PATCH_USER_REQUEST",It="PATCH_USER_SUCCESS",kt="PATCH_USER_FAILED",Ut="LOGOUT_REQUEST",Dt="LOGOUT_SUCCESS",Pt="LOGOUT_FAILED",Mt=function(e){return function(t){t({type:jt}),function(e){return it.apply(this,arguments)}(e).then((function(e){e.success&&(S(e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),t({type:mt,user:e.user}))})).catch((function(e){t({type:bt,message:e.message}),console.error(e)}))}},qt=function(e){return function(t){t({type:Ot}),function(e){return ot.apply(this,arguments)}(e).then((function(e){e.success&&(S(e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),t({type:_t,user:e.user}))})).catch((function(e){t({type:pt,message:e.message}),console.error(e)}))}},At=function(e){return function(t){t({type:xt}),function(e){return k.apply(this,arguments)}(e).then((function(e){e.success&&(localStorage.setItem("isResetPassword","true"),t({type:ft}))})).catch((function(e){t({type:ht}),console.error(e)}))}},Ft=function(e){return function(t){t({type:yt}),function(e){return U.apply(this,arguments)}(e).then((function(e){e.success&&t({type:gt})})).catch((function(e){t({type:vt,message:e.message}),console.error(e)}))}},Lt=function e(){return function(t){t({type:Nt}),function(){return lt.apply(this,arguments)}().then((function(e){e.success&&(localStorage.removeItem("isResetPassword"),t({type:Et,user:e.user}))})).catch((function(n){"jwt expired"===n.message||"jwt malformed"===n.message?t(Gt(e)):(t({type:St,message:n.message}),console.error(n))}))}},Gt=function(e){return function(t){t({type:wt});var n=localStorage.getItem("refreshToken");n&&function(e){return ut.apply(this,arguments)}({token:n}).then((function(n){n.success&&(S(n.accessToken),localStorage.setItem("refreshToken",n.refreshToken),t({type:Ct}),t(e()))})).catch((function(e){t({type:Rt,message:e.message}),console.error(e)}))}},Bt=function(e){return function(t){t({type:Tt}),function(e){return dt.apply(this,arguments)}(e).then((function(e){e.success&&t({type:It,user:e.user})})).catch((function(e){"jwt expired"===e.message||"jwt malformed"===e.message?t(Gt(Lt)):(t({type:kt,message:e.message}),console.error(e))}))}},Ht=function(){return function(e){e({type:Ut});var t,n=localStorage.getItem("refreshToken");n&&(t={token:n},C("/auth/logout",t).then(R)).then((function(t){t.success&&(E("accessToken",null,{expires:-1}),localStorage.removeItem("refreshToken"),e({type:Dt}),e(J()))})).catch((function(t){e({type:Pt,message:t.message}),console.error(t)}))}},Wt=n(94),zt=n.n(Wt),Qt=function(e){var t=e.children;return Object($.jsx)("div",{className:zt.a.wrapper,children:Object($.jsx)("div",{className:zt.a.container,children:t})})},Jt=r.a.memo(Qt);var Vt=function(){var e,t=Object(s.useState)({email:"",password:""}),n=Object(i.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)("ShowIcon"),o=Object(i.a)(a,2),l=o[0],u=o[1],j=Object(s.useRef)(null),m=h(),b=Object(pe.h)(),O=f((function(e){return e.user})),_=O.loginRequest,x=O.isAuthorised,y=O.loginErrorMessage;if(x)return(null===(e=b.state)||void 0===e?void 0:e.from)?Object($.jsx)(pe.a,{to:b.state.from}):Object($.jsx)(pe.a,{to:{pathname:"/"}});var g=function(e){return c(Object(d.a)(Object(d.a)({},r),{},Object(rt.a)({},e.target.name,e.target.value)))};return _?Object($.jsx)(Jt,{children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0416\u0434\u0438\u0442\u0435..."})})}):Object($.jsxs)(Jt,{children:[Object($.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object($.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(d.a)({},r);t.email&&t.password&&m(qt(t))},className:at.a.form,children:[Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"email",placeholder:"E-mail",value:r.email,name:"email",onChange:g})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"password",icon:l,onIconClick:function(){j.current&&("password"===j.current.type?(j.current.type="text",u("HideIcon")):(j.current.type="password",u("ShowIcon")))},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:r.password,ref:j,name:"password",onChange:g})}),y&&Object($.jsx)("div",{className:"mt-6 ".concat(at.a.error),children:Object($.jsx)("p",{className:"text text_type_main-default",children:y})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_main-default",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?\xa0",Object($.jsx)(We.b,{to:"/register",className:at.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}),Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_main-default",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object($.jsx)(We.b,{to:"/forgot-password",className:at.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})})]})},Kt=n(64),Zt=n.n(Kt);var Yt=function(){var e=h(),t=Object(s.useState)({name:"",email:"",password:""}),n=Object(i.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)("ShowIcon"),o=Object(i.a)(a,2),l=o[0],u=o[1],j=Object(s.useRef)(null),m=f((function(e){return e.user})),b=m.registerRequest,O=m.isAuthorised,_=m.registerErrorMessage;if(O)return Object($.jsx)(pe.a,{to:{pathname:"/"}});var x=function(e){return c(Object(d.a)(Object(d.a)({},r),{},Object(rt.a)({},e.target.name,e.target.value)))};return b?Object($.jsx)(Jt,{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0416\u0434\u0438\u0442\u0435..."})}):Object($.jsxs)(Jt,{children:[Object($.jsx)("h2",{className:"text text_type_main-medium",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object($.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(d.a)({},r);n.email&&n.password&&n.name&&e(Mt(n))},className:Zt.a.form,children:[Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:r.name,name:"name",onChange:x})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"email",placeholder:"E-mail",value:r.email,name:"email",onChange:x})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"password",icon:l,onIconClick:function(){j.current&&("password"===j.current.type?(j.current.type="text",u("HideIcon")):(j.current.type="password",u("ShowIcon")))},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:r.password,ref:j,name:"password",onChange:x})}),_&&Object($.jsx)("div",{className:"mt-6 ".concat(Zt.a.error),children:Object($.jsx)("p",{className:"text text_type_main-default",children:_})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_main-default",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object($.jsx)(We.b,{to:"/login",className:Zt.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},Xt=n(95),$t=n.n(Xt);var en=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=h(),a=f((function(e){return e.user})),o=a.forgotPasswordSuccess,l=a.forgotPasswordRequest;return a.isAuthorised?Object($.jsx)(pe.a,{to:{pathname:"/"}}):o?Object($.jsx)(pe.a,{to:"/reset-password"}):l?Object($.jsx)(Jt,{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0416\u0434\u0438\u0442\u0435..."})}):Object($.jsxs)(Jt,{children:[Object($.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object($.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:n};t.email&&c(At(t))},className:$t.a.form,children:[Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:n,name:"email",onChange:function(e){return r(e.target.value)}})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object($.jsx)(We.b,{to:"/login",className:$t.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},tn=n(65),nn=n.n(tn);var sn=function(){var e=Object(s.useState)({token:"",password:""}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)("ShowIcon"),a=Object(i.a)(c,2),o=a[0],l=a[1],u=Object(s.useRef)(null),j=h(),m=f((function(e){return e.user})),b=m.resetPasswordSuccess,O=m.resetPasswordRequest,_=m.resetPasswordErrorMessage;if(m.isAuthorised)return Object($.jsx)(pe.a,{to:"/"});var x=localStorage.getItem("isResetPassword");if(!x||"true"!==x)return Object($.jsx)(pe.a,{to:"/forgot-password"});var y=function(e){return r(Object(d.a)(Object(d.a)({},n),{},Object(rt.a)({},e.target.name,e.target.value)))};return b?Object($.jsx)(pe.a,{to:"/login"}):O?Object($.jsx)(Jt,{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0416\u0434\u0438\u0442\u0435..."})}):Object($.jsxs)(Jt,{children:[Object($.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object($.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(d.a)({},n);t.password&&t.token&&j(Ft(t))},className:nn.a.form,children:[Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"password",icon:o,onIconClick:function(){u.current&&("password"===u.current.type?(u.current.type="text",l("HideIcon")):(u.current.type="password",l("ShowIcon")))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:n.password,ref:u,name:"password",onChange:y})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:n.token,name:"token",onChange:y})}),_&&Object($.jsx)("div",{className:"mt-6 ".concat(nn.a.error),children:Object($.jsx)("p",{className:"text text_type_main-default",children:_})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object($.jsx)(We.b,{to:"/login",className:nn.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},rn=n(66),cn=n.n(rn),an=n(32),on=n.n(an),ln=function(e){var t,n=e.links,r=Object(pe.h)(),c=h(),a=Object(s.useMemo)((function(){return n.find((function(e){return e.to===r.pathname}))}),[n,r]);return Object($.jsxs)("div",{children:[Object($.jsxs)("div",{className:on.a.menu,children:[n.map((function(e){return Object($.jsx)("div",{className:on.a.menu_item,children:Object($.jsx)(We.c,{to:e.to,activeClassName:on.a.active,exact:!0,children:Object($.jsx)("p",{className:"text text_type_main-medium",children:e.text})})},e.id)})),Object($.jsx)("div",{className:on.a.menu_item,children:Object($.jsx)("button",{className:(t=["text text_type_main-medium text_color_inactive",on.a.btn_logout],t.join(" ")),onClick:function(){c(Ht())},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),a&&Object($.jsx)("div",{className:on.a.description,children:Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:a.desc})})]})},un=[{id:0,to:"/profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",desc:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{id:1,to:"/profile/orders",text:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432",desc:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}],dn=function(e){var t=e.children;return Object($.jsxs)("div",{className:cn.a.wrapper,children:[Object($.jsx)("aside",{className:cn.a.aside,children:Object($.jsx)(ln,{links:un})}),Object($.jsx)("section",{className:cn.a.content,children:t})]})},jn=n(67),mn=n.n(jn),bn=n(26),On=n.n(bn),_n=function(e){var t=e.ingredient;return Object($.jsxs)("div",{className:On.a.container,children:[Object($.jsx)("div",{className:On.a.header,children:Object($.jsx)("h3",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"})}),Object($.jsxs)("div",{className:On.a.details,children:[Object($.jsx)("img",{src:t.image_large,alt:t.name}),Object($.jsx)("p",{className:"text text_type_main-medium mt-4 mb-8",children:t.name}),Object($.jsxs)("div",{className:On.a.info,children:[Object($.jsxs)("div",{className:On.a.info_item,children:[Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object($.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.calories})]}),Object($.jsxs)("div",{className:On.a.info_item,children:[Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object($.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.proteins})]}),Object($.jsxs)("div",{className:On.a.info_item,children:[Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object($.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.fat})]}),Object($.jsxs)("div",{className:On.a.info_item,children:[Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object($.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.carbohydrates})]})]})]})]})},pn=r.a.memo(_n);var xn=function(){var e=Object(pe.i)().id,t=f((function(e){return e.burgerIngredients})),n=t.items,r=t.itemsRequest,c=t.itemsSuccess,a=Object(s.useState)(null),o=Object(i.a)(a,2),l=o[0],u=o[1];return Object(s.useEffect)((function(){var t=n.find((function(t){return t._id===e}));t&&u(t)}),[c]),r?Object($.jsx)("div",{className:mn.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):l?Object($.jsx)("div",{className:mn.a.wrapper,children:Object($.jsx)(pn,{ingredient:l})}):Object($.jsx)("div",{className:mn.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u041e\u0439, \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442!"})})})},fn=n(126),hn=n.n(fn),yn=n(96),gn=n.n(yn),vn=n(27),Nn=n.n(vn),En=function(e){var t=new Date(Date.parse(e)),n=(new Date).valueOf()-t.valueOf();if(n<0)return"\u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c...";var s=864e5,r=t.toLocaleTimeString("ru",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Moscow"});if(n<s)return"C\u0435\u0433\u043e\u0434\u043d\u044f, ".concat(r," i-GMT+3");if(n<2*s)return"\u0412\u0447\u0435\u0440\u0430, ".concat(r," i-GMT+3");var c=Math.floor(n/s),a=function(e,t){var n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1===n?t[0]:t[2]}(c,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return"".concat(c," ").concat(a," \u043d\u0430\u0437\u0430\u0434, ").concat(r," i-GMT+3")},Sn=n(33),wn=n.n(Sn),Cn=n(97),Rn=n.n(Cn),Tn=function(e){var t=e.image,n=e.alt;return Object($.jsx)("div",{className:Rn.a.avatar,children:Object($.jsx)("img",{src:t,className:Rn.a.img,alt:n||"unknown ingredient"})})},In=r.a.memo(Tn),kn=function(e){var t=e.items,n=e.max,s=Object(u.a)(t).reverse();if(n&&s.length>n){var r=s.length-n+1;return Object($.jsxs)("div",{className:wn.a.group,children:[Object($.jsxs)("div",{className:wn.a.more,children:[Object($.jsx)("p",{className:"text text_type_main-default",children:"+".concat(r)}),Object($.jsx)("div",{className:wn.a.avatar,children:Object($.jsx)(In,{image:s[s.length-n].image,alt:s[s.length-(n-1)].name})})]}),s.slice(s.length-(n-1),s.length).map((function(e,t){return Object($.jsx)("div",{className:wn.a.avatar,children:Object($.jsx)(In,{image:e.image,alt:e.name})},t)}))]})}return Object($.jsx)("div",{className:wn.a.group,children:s.map((function(e,t){return Object($.jsx)("div",{className:wn.a.avatar,children:Object($.jsx)(In,{image:e.image,alt:e.name})},t)}))})},Un=r.a.memo(kn),Dn=function(e){var t=e.number,n=e.createdAt,r=e.name,c=e.ingredients,a=e.status,o=Object(s.useState)([]),l=Object(i.a)(o,2),u=l[0],j=l[1],m=f((function(e){return e.burgerIngredients})).items;Object(s.useEffect)((function(){var e=[];c.forEach((function(t){var n=m.find((function(e){return e._id===t}));if(n){var s=e.findIndex((function(e){return e._id===n._id}));-1===s?e.push(Object(d.a)(Object(d.a)({},n),{},{count:1})):e[s].count++}})),j(e)}),[m,c]);var b=Object(s.useMemo)((function(){return u.length?u.reduce((function(e,t){return e+t.price*t.count}),0):0}),[u]);return Object($.jsxs)("div",{className:Nn.a.card,children:[Object($.jsxs)("div",{className:Nn.a.topDetails,children:[Object($.jsx)("div",{children:Object($.jsxs)("p",{className:"text text_type_digits-default",children:["#",t]})}),Object($.jsx)("div",{className:Nn.a.date,children:Object($.jsx)("p",{className:"text text_type_main-small",children:En(n)})})]}),Object($.jsx)("div",{className:Nn.a.heading,children:Object($.jsx)("h3",{className:"text text_type_main-medium",children:r})}),a&&Object($.jsx)("div",{className:Nn.a.status,children:"done"===a?Object($.jsx)("span",{className:Nn.a.done,children:Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"})}):"\u0441reated"===a?Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0421\u043e\u0437\u0434\u0430\u043d"}):Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"})}),Object($.jsxs)("div",{className:Nn.a.bottomDetails,children:[u.length&&Object($.jsx)(Un,{items:u,max:6}),Object($.jsxs)("div",{className:Nn.a.price,children:[Object($.jsx)("p",{className:"text text_type_digits-default mr-2",children:b}),Object($.jsx)(p.CurrencyIcon,{type:"primary"})]})]})]})},Pn=Object(s.memo)(Dn),Mn=function(e){var t=e.orders,n=e.page,s=e.withStatus,r=Object(pe.h)();return Object($.jsx)("div",{className:gn.a.list,children:t&&t.map((function(e){return Object($.jsx)(We.b,{to:{pathname:"/".concat(n,"/").concat(e._id),state:{background:r,order:e}},children:Object($.jsx)("article",{className:gn.a.card,children:Object($.jsx)(Pn,{number:e.number,createdAt:e.createdAt,name:e.name,ingredients:e.ingredients,status:s&&e.status||void 0})})},e._id)}))})},qn=Object(s.memo)(Mn),An="WS_CONNECTION_START",Fn="WS_CONNECTION_SUCCESS",Ln="WS_CONNECTION_ERROR",Gn="WS_CONNECTION_CLOSED",Bn="WS_GET_MESSAGE",Hn="WS_CONNECTION_CLOSE",Wn="USER_WS_CONNECTION_START",zn="USER_WS_CONNECTION_SUCCESS",Qn="USER_WS_CONNECTION_CLOSED",Jn="USER_WS_CONNECTION_ERROR",Vn="USER_WS_GET_MESSAGE",Kn="USER_WS_CONNECTION_CLOSE",Zn=function(){return{type:Wn}},Yn=function(){return{type:Qn}};var Xn=function(){var e=h(),t=f((function(e){return{orders:e.userOrders.orders,wsConnected:e.userOrders.wsConnected,isAuthorised:e.user.isAuthorised}})),n=t.isAuthorised,r=t.wsConnected,c=t.orders;return Object(s.useEffect)((function(){return n&&!r&&e(Zn()),function(){e(Yn())}}),[n]),Object($.jsx)("section",{className:hn.a.orders,children:c&&c.length?Object($.jsx)(qn,{page:"profile/orders",orders:Object(u.a)(c).reverse(),withStatus:!0}):Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})})},$n=n(50),es=n.n($n),ts=n(34),ns=n.n(ts),ss=n(51),rs=n.n(ss),cs=function(e){var t=e.title,n=e.orders,s=e.done,r=n&&[n.slice(0,10),n.slice(10,20),n.slice(20,30),n.slice(30,40),n.slice(40,50)];return Object($.jsxs)("div",{className:rs.a.list,children:[Object($.jsx)("h6",{className:"text text_type_main-medium mb-6",children:"".concat(t,":")}),Object($.jsx)("div",{className:rs.a.columns,children:r&&r.filter((function(e){return 0!==e.length})).map((function(e,t){return Object($.jsx)("div",{className:"".concat(rs.a.column," ").concat(s&&rs.a.done),children:e.map((function(e,t){return Object($.jsx)("p",{className:"text text_type_digits-default mb-2",children:e},t)}))},t)}))})]})},as=Object(s.memo)(cs),is=function(e){var t=e.total,n=e.totalToday,s=e.ordersDone,r=e.ordersPending;return Object($.jsxs)("div",{className:ns.a.container,children:[Object($.jsxs)("div",{className:ns.a.statusContainer,children:[Object($.jsx)("div",{className:ns.a.list,children:Object($.jsx)(as,{title:"\u0413\u043e\u0442\u043e\u0432\u044b",orders:s,done:!0})}),Object($.jsx)("div",{className:ns.a.list,children:Object($.jsx)(as,{title:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",orders:r})})]}),Object($.jsxs)("div",{className:"mt-15",children:[Object($.jsx)("h6",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object($.jsx)("div",{className:ns.a.glow,children:Object($.jsx)("p",{className:"text text_type_digits-large",children:t})})]}),Object($.jsxs)("div",{className:"mt-15",children:[Object($.jsx)("h6",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object($.jsx)("div",{className:ns.a.glow,children:Object($.jsx)("p",{className:"text text_type_digits-large",children:n})})]})]})},os=Object(s.memo)(is);var ls=function(){var e=h(),t=f((function(e){return e.orders})),n=t.wsConnected,r=t.orders,c=t.total,a=t.totalToday;Object(s.useEffect)((function(){return n||e({type:An}),function(){e({type:Hn})}}),[]);var i=Object(s.useMemo)((function(){return r.filter((function(e){return"done"===e.status})).map((function(e){return e.number}))}),[r]),o=Object(s.useMemo)((function(){return r.filter((function(e){return"pending"===e.status})).map((function(e){return e.number}))}),[r]);return Object($.jsxs)("div",{className:es.a.wrapper,children:[Object($.jsx)("h1",{className:"text text_type_main-large mb-5 mt-10",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object($.jsxs)("div",{className:es.a.container,children:[Object($.jsx)("section",{className:es.a.orders,children:r.length?Object($.jsx)(qn,{page:"feed",orders:r}):Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}),Object($.jsx)("section",{className:es.a.stats,children:r.length?Object($.jsx)(os,{total:c,totalToday:a,ordersDone:i,ordersPending:o}):Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})})]})]})},us=n(52),ds=n.n(us),js=n(24),ms=n.n(js),bs=function(e){var t=e.order,n=Object(s.useState)([]),r=Object(i.a)(n,2),c=r[0],a=r[1],o=f((function(e){return e.burgerIngredients})).items;Object(s.useEffect)((function(){var e=t.ingredients,n=[];e.forEach((function(e){var t=o.find((function(t){return t._id===e}));if(t){var s=n.findIndex((function(e){return e._id===t._id}));-1===s?n.push(Object(d.a)(Object(d.a)({},t),{},{count:1})):n[s].count++}})),a(n)}),[o,t]);var l=Object(s.useMemo)((function(){return c.length?c.reduce((function(e,t){return e+t.price*t.count}),0):0}),[c]);return Object($.jsxs)("div",{className:ms.a.container,children:[Object($.jsx)("div",{className:ms.a.number,children:Object($.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(t.number)})}),Object($.jsx)("div",{className:"mt-10",children:Object($.jsx)("h1",{className:"text text_type_main-medium",children:t.name})}),Object($.jsx)("div",{className:"mt-3",children:"done"===t.status?Object($.jsx)("span",{className:ms.a.done,children:Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"})}):"\u0441reated"===t.status?Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0421\u043e\u0437\u0434\u0430\u043d"}):Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"})}),Object($.jsxs)("div",{className:"mt-15",children:[Object($.jsx)("h2",{className:"text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object($.jsx)("div",{className:ms.a.ingredients,children:c.length&&c.map((function(e,t){return Object($.jsxs)("div",{className:ms.a.item,children:[Object($.jsx)(In,{image:e.image,alt:e.name}),Object($.jsx)("div",{className:ms.a.name,children:Object($.jsx)("p",{className:"text text_type_main-default ml-4",children:e.name})}),Object($.jsxs)("div",{className:ms.a.price,children:[Object($.jsx)("p",{className:"text text_type_digits-default mr-2",children:"".concat(e.count," x ").concat(e.price)}),Object($.jsx)(p.CurrencyIcon,{type:"primary"})]})]},t)}))})]}),Object($.jsxs)("div",{className:"".concat(ms.a.footer," mt-10"),children:[Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:En(t.createdAt)}),Object($.jsxs)("div",{className:ms.a.price,children:[Object($.jsx)("p",{className:"text text_type_digits-default mr-2",children:l}),Object($.jsx)(p.CurrencyIcon,{type:"primary"})]})]})]})},Os=Object(s.memo)(bs);var _s=function(){var e=Object(pe.i)().id,t=h(),n=f((function(e){return e.orders})),r=n.wsConnected,c=n.orders,a=Object(s.useState)(null),o=Object(i.a)(a,2),l=o[0],u=o[1];return Object(s.useEffect)((function(){return r||t({type:An}),function(){t({type:Hn})}}),[]),Object(s.useEffect)((function(){var t=c.find((function(t){return t._id===e}));t&&u(t)}),[c]),c&&!c.length?Object($.jsx)("div",{className:ds.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):l?Object($.jsx)("div",{className:ds.a.wrapper,children:Object($.jsx)("div",{className:ds.a.container,children:Object($.jsx)(Os,{order:l})})}):Object($.jsx)("div",{className:ds.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u041e\u0439, \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u0437\u0430\u043a\u0430\u0437!"})})})},ps=n(53),xs=n.n(ps);var fs=function(){var e=Object(pe.i)().id,t=h(),n=f((function(e){return{orders:e.userOrders.orders,wsConnected:e.userOrders.wsConnected,isAuthorised:e.user.isAuthorised}})),r=n.isAuthorised,c=n.wsConnected,a=n.orders,o=Object(s.useState)(null),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){return r&&!c&&t(Zn()),function(){t(Yn())}}),[r]),Object(s.useEffect)((function(){var t=a.find((function(t){return t._id===e}));t&&d(t)}),[a]),a&&!a.length?Object($.jsx)("div",{className:xs.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):u?Object($.jsx)("div",{className:xs.a.wrapper,children:Object($.jsx)("div",{className:xs.a.container,children:Object($.jsx)(Os,{order:u})})}):Object($.jsx)("div",{className:xs.a.wrapper,children:Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u041e\u0439, \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u0437\u0430\u043a\u0430\u0437!"})})})},hs=n(98),ys=n.n(hs),gs=n(40),vs=n.n(gs),Ns=function(e){var t=e.links;return Object($.jsx)("nav",{className:vs.a.nav,children:Object($.jsx)("ul",{className:vs.a.list,children:t.map((function(e){return Object($.jsx)("li",{className:vs.a.item,children:Object($.jsxs)(We.c,{to:e.to,activeClassName:vs.a.active,className:vs.a.inactive,exact:"/"===e.to,children:[e.icon,Object($.jsx)("p",{className:"text text_type_main-default ml-2",children:e.text})]})},e.id)}))})})},Es=r.a.memo(Ns),Ss=n(127),ws=n.n(Ss);var Cs=function(){return Object($.jsx)(We.b,{to:"/",className:ws.a.logo,children:Object($.jsx)(p.Logo,{})})};var Rs=function(){var e=[{id:0,to:"/",text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",icon:Object($.jsx)(p.BurgerIcon,{type:"primary"})},{id:1,to:"/feed",text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",icon:Object($.jsx)(p.ListIcon,{type:"primary"})},{id:2,to:"/profile",text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",icon:Object($.jsx)(p.ProfileIcon,{type:"primary"})}];return Object($.jsx)("header",{className:ys.a.header,children:Object($.jsxs)("div",{className:ys.a.content,children:[Object($.jsx)(Es,{links:e}),Object($.jsx)(Cs,{})]})})},Ts=n(128),Is=n.n(Ts),ks=function(e){var t=e.children;return Object($.jsx)("main",{className:Is.a.main,children:t})},Us=r.a.memo(ks),Ds=function(e){var t=e.children;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Rs,{}),Object($.jsx)(Us,{children:t})]})},Ps=r.a.memo(Ds),Ms=["children"],qs=function(e){var t=e.children,n=Object(j.a)(e,Ms),s=f((function(e){return e.user})).isAuthorised;return Object($.jsx)(pe.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var n=e.location;return s?t:Object($.jsx)(pe.a,{to:{pathname:"/login",state:{from:n}}})}}))},As=r.a.memo(qs),Fs=n(99),Ls=n.n(Fs);var Gs=function(){var e=Object(s.useState)({name:"",email:"",password:""}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(s.useRef)(null),a=Object(s.useRef)(null),o=Object(s.useRef)(null),l=h(),u=f((function(e){return e.user})),j=u.user,m=u.getUserRequest,b=u.patchUserErrorMessage;Object(s.useEffect)((function(){l(Lt())}),[]),Object(s.useEffect)((function(){"name"in j&&"email"in j&&r(Object(d.a)(Object(d.a)({},n),{},{name:j.name,email:j.email,password:""}))}),[j]);var O=function(e){r(Object(d.a)(Object(d.a)({},n),{},Object(rt.a)({},e.target.name,e.target.value)))},_=function(e){e.current.disabled=!1,e.current.classList.remove("input__textfield-disabled"),e.current.focus()},x=function(e){e.current.disabled=!0,e.current.classList.add("input__textfield-disabled")};return Object($.jsx)("div",{children:m?Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."})}):Object($.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={};n.email&&(t=Object(d.a)(Object(d.a)({},t),{},{email:n.email})),n.name&&(t=Object(d.a)(Object(d.a)({},t),{},{name:n.name})),n.password&&(t=Object(d.a)(Object(d.a)({},t),{},{password:n.password})),l(Bt(t))},className:Ls.a.form,children:[Object($.jsx)("div",{children:Object($.jsx)(p.Input,{type:"text",name:"name",value:n.name,placeholder:"\u0418\u043c\u044f",icon:"EditIcon",disabled:!0,onIconClick:function(){return _(c)},onChange:O,ref:c,onBlur:function(){return x(c)}})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"email",name:"email",value:n.email,placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:"EditIcon",disabled:!0,onIconClick:function(){return _(a)},onChange:O,ref:a,onBlur:function(){return x(a)}})}),Object($.jsx)("div",{className:"mt-6",children:Object($.jsx)(p.Input,{type:"password",name:"password",value:n.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",disabled:!0,onIconClick:function(){return _(o)},onChange:O,ref:o,onBlur:function(){return x(o)}})}),b&&Object($.jsx)("div",{className:"mt-6 ".concat(Ls.a.error),children:Object($.jsx)("p",{className:"text text_type_main-default",children:b})}),Object($.jsxs)("div",{className:"mt-6",children:[Object($.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object($.jsx)(p.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),"name"in j&&"email"in j&&r(Object(d.a)(Object(d.a)({},n),{},{name:j.name,email:j.email,password:""}))},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})};function Bs(){var e=h(),t=localStorage.getItem("refreshToken");return Object(s.useEffect)((function(){t&&e(Lt()),e(G())}),[]),Object($.jsx)(We.a,{children:Object($.jsx)(Hs,{})})}function Hs(){var e=Object(pe.g)(),t=Object(pe.h)(),n="PUSH"===e.action&&t.state&&t.state.background,s=t.state&&t.state.ingredient,r=t.state&&t.state.order,c=function(){e.goBack()};return Object($.jsxs)(Ps,{children:[Object($.jsxs)(pe.d,{location:n||t,children:[Object($.jsx)(pe.b,{path:"/",exact:!0,children:Object($.jsx)(et,{})}),Object($.jsx)(pe.b,{path:"/feed",exact:!0,children:Object($.jsx)(ls,{})}),Object($.jsx)(pe.b,{path:"/feed/:id",exact:!0,children:Object($.jsx)(_s,{})}),Object($.jsx)(As,{path:"/profile",exact:!0,children:Object($.jsx)(dn,{children:Object($.jsx)(Gs,{})})}),Object($.jsx)(As,{path:"/profile/orders",exact:!0,children:Object($.jsx)(dn,{children:Object($.jsx)(Xn,{})})}),Object($.jsx)(As,{path:"/profile/orders/:id",exact:!0,children:Object($.jsx)(fs,{})}),Object($.jsx)(pe.b,{path:"/login",exact:!0,children:Object($.jsx)(Vt,{})}),Object($.jsx)(pe.b,{path:"/register",exact:!0,children:Object($.jsx)(Yt,{})}),Object($.jsx)(pe.b,{path:"/forgot-password",exact:!0,children:Object($.jsx)(en,{})}),Object($.jsx)(pe.b,{path:"/reset-password",exact:!0,children:Object($.jsx)(sn,{})}),Object($.jsx)(pe.b,{path:"/ingredient/:id",exact:!0,children:Object($.jsx)(xn,{})}),Object($.jsx)(pe.b,{children:Object($.jsx)(st,{})})]}),n&&s&&Object($.jsx)(pe.b,{path:"/ingredient/:id",render:function(){return Object($.jsx)(we,{onClose:c,children:Object($.jsx)(pn,{ingredient:s})})}}),n&&r&&Object($.jsx)(pe.b,{path:"/feed/:id",render:function(){return Object($.jsx)(we,{onClose:c,children:Object($.jsx)(Os,{order:r})})}}),n&&r&&Object($.jsx)(pe.b,{path:"/profile/orders/:id",render:function(){return Object($.jsx)(we,{onClose:c,children:Object($.jsx)(Os,{order:r})})}})]})}var Ws=n(28),zs={items:[],itemsRequest:!1,itemsSuccess:!1,itemsFailed:!1},Qs={bun:null,staffings:[]},Js={number:null,orderRequest:!1,orderFailed:!1},Vs={user:{},isAuthorised:!1,registerRequest:!1,registerFailed:!1,registerErrorMessage:"",loginRequest:!1,loginFailed:!1,loginErrorMessage:"",forgotPasswordRequest:!1,forgotPasswordSuccess:!1,forgotPasswordFailed:!1,resetPasswordRequest:!1,resetPasswordSuccess:!1,resetPasswordFailed:!1,resetPasswordErrorMessage:"",getUserRequest:!1,getUserFailed:!1,getUserErrorMessage:"",refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenFailed:!1,refreshTokenErrorMessage:"",patchUserRequest:!1,patchUserFailed:!1,patchUserErrorMessage:"",logoutRequest:!1,logoutFailed:!1,logoutErrorMessage:""},Ks={wsConnected:!1,orders:[],total:0,totalToday:0},Zs={wsConnected:!1,orders:[]},Ys=Object(Ws.b)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(d.a)(Object(d.a)({},e),{},{itemsRequest:!0});case P:return Object(d.a)(Object(d.a)({},e),{},{itemsFailed:!1,itemsSuccess:!0,items:Object(u.a)(t.items).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{count:0})})),itemsRequest:!1});case M:return Object(d.a)(Object(d.a)({},e),{},{itemsFailed:!0,itemsRequest:!1});case q:return"bun"===t.item.type?Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items).map((function(e){return"bun"===e.type?Object(d.a)(Object(d.a)({},e),{},{count:0}):e})).map((function(e){return e._id===t.item._id?Object(d.a)(Object(d.a)({},e),{},{count:e.count+2}):e}))}):Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items).map((function(e){return e._id===t.item._id?Object(d.a)(Object(d.a)({},e),{},{count:++e.count}):e}))});case A:return Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items).map((function(e){return e._id===t.item._id?Object(d.a)(Object(d.a)({},e),{},{count:--e.count}):e}))});case F:return Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{count:0})}))});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return"bun"===t.item.type?Object(d.a)(Object(d.a)({},e),{},{bun:t.item}):Object(d.a)(Object(d.a)({},e),{},{staffings:[].concat(Object(u.a)(e.staffings),[t.item])});case H:return Object(d.a)(Object(d.a)({},e),{},{staffings:Object(u.a)(e.staffings).filter((function(e){return e.uuid!==t.item.uuid}))});case W:return Object(d.a)(Object(d.a)({},e),{},{staffings:t.reordered});case z:return Qs;default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Js,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(d.a)(Object(d.a)({},e),{},{orderRequest:!0});case je:return Object(d.a)(Object(d.a)({},e),{},{number:t.number,orderFailed:!1,orderRequest:!1});case me:return Object(d.a)(Object(d.a)({},e),{},{orderFailed:!0,orderRequest:!1});case be:return Js;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(d.a)(Object(d.a)({},e),{},{registerRequest:!0});case mt:return Object(d.a)(Object(d.a)({},e),{},{registerRequestFailed:!1,user:t.user,isAuthorised:!0,registerRequest:!1,registerErrorMessage:""});case bt:return Object(d.a)(Object(d.a)({},e),{},{registerRequestFailed:!0,registerRequest:!1,registerErrorMessage:t.message});case Ot:return Object(d.a)(Object(d.a)({},e),{},{loginRequest:!0});case _t:return Object(d.a)(Object(d.a)({},e),{},{loginRequestFailed:!1,loginRequest:!1,user:t.user,isAuthorised:!0,loginErrorMessage:""});case pt:return Object(d.a)(Object(d.a)({},e),{},{loginRequestFailed:!0,loginRequest:!1,loginErrorMessage:t.message});case xt:return Object(d.a)(Object(d.a)({},e),{},{forgotPasswordRequest:!0});case ft:return Object(d.a)(Object(d.a)({},e),{},{forgotPasswordSuccess:!0,forgotPasswordRequest:!1,forgotPasswordFailed:!1});case ht:return Object(d.a)(Object(d.a)({},e),{},{forgotPasswordFailed:!0,forgotPasswordRequest:!1});case yt:return Object(d.a)(Object(d.a)({},e),{},{resetPasswordRequest:!0});case gt:return Object(d.a)(Object(d.a)({},e),{},{resetPasswordSuccess:!0,resetPasswordRequest:!1,resetPasswordFailed:!1,resetPasswordErrorMessage:""});case vt:return Object(d.a)(Object(d.a)({},e),{},{resetPasswordFailed:!0,resetPasswordRequest:!1,resetPasswordErrorMessage:t.message});case Nt:return Object(d.a)(Object(d.a)({},e),{},{getUserRequest:!0});case Et:return Object(d.a)(Object(d.a)({},e),{},{getUserRequest:!1,getUserFailed:!1,user:t.user,isAuthorised:!0,getUserErrorMessage:""});case St:return Object(d.a)(Object(d.a)({},e),{},{getUserFailed:!0,getUserRequest:!1,getUserErrorMessage:t.message});case wt:return Object(d.a)(Object(d.a)({},e),{},{refreshTokenRequest:!0});case Ct:return Object(d.a)(Object(d.a)({},e),{},{refreshTokenRequest:!1,refreshTokenFailed:!1,refreshTokenSuccess:!0,refreshTokenErrorMessage:""});case Rt:return Object(d.a)(Object(d.a)({},e),{},{refreshTokenFailed:!0,refreshTokenRequest:!1,refreshTokenErrorMessage:t.message});case Tt:return Object(d.a)(Object(d.a)({},e),{},{patchUserRequest:!0});case It:return Object(d.a)(Object(d.a)({},e),{},{patchUserRequest:!1,patchUserFailed:!1,user:t.user,isAuthorised:!0,patchUserErrorMessage:""});case kt:return Object(d.a)(Object(d.a)({},e),{},{patchUserFailed:!0,patchUserRequest:!1,patchUserErrorMessage:t.message});case Ut:return Object(d.a)(Object(d.a)({},e),{},{logoutRequest:!0});case Dt:return Object(d.a)(Object(d.a)({},e),{},{isAuthorised:!1,user:{},logoutRequest:!1,logoutFailed:!1,logoutErrorMessage:""});case Pt:return Object(d.a)(Object(d.a)({},e),{},{logoutFailed:!0,logoutRequest:!1,logoutErrorMessage:t.message});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn:return Object(d.a)(Object(d.a)({},e),{},{wsConnected:!0});case Ln:case Gn:return Object(d.a)(Object(d.a)({},e),{},{wsConnected:!1});case Bn:return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload.orders,total:t.payload.total,totalToday:t.payload.totalToday});default:return e}},userOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn:return Object(d.a)(Object(d.a)({},e),{},{wsConnected:!0});case Jn:case Qn:return Object(d.a)(Object(d.a)({},e),{},{wsConnected:!1});case Vn:return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload.orders});default:return e}}}),Xs=n(129),$s=["success"],er=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){var r=null;return function(c){return function(a){var i=s.dispatch,o=a.type,l=t.wsInit,u=t.wsClose,d=t.onOpen,m=t.onMessage,b=t.onClose,O=t.onError,_=N("accessToken");o===l&&(r=n&&_?new WebSocket("".concat(e,"?token=").concat(_)):new WebSocket("".concat(e))),r&&(r.onopen=function(e){i({type:d,payload:e})},r.onerror=function(e){i({type:O,payload:e})},r.onmessage=function(e){var t=e.data,n=JSON.parse(t),s=n.success,r=Object(j.a)(n,$s);s&&i({type:m,payload:r})},r.onclose=function(e){i({type:b,payload:e})}),r&&o===u&&r.close(),c(a)}}}},tr={wsInit:An,wsClose:Hn,onOpen:Fn,onClose:Gn,onError:Ln,onMessage:Bn},nr={wsInit:Wn,wsClose:Kn,onOpen:zn,onClose:Qn,onError:Jn,onMessage:Vn},sr=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ws.c)(Object(Ws.a)(Xs.a,er("wss://norma.nomoreparties.space/orders/all",tr),er("wss://norma.nomoreparties.space/orders",nr,!0))),rr=Object(Ws.d)(Ys,sr);a.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(x.a,{store:rr,children:Object($.jsx)(Bs,{})})}),document.getElementById("root"))},24:function(e,t,n){e.exports={container:"styles_container__1wx6z",number:"styles_number__1DGkx",ingredients:"styles_ingredients__Mh3OH",item:"styles_item__3eoYc",name:"styles_name__2_9-H",done:"styles_done__3tIsn",footer:"styles_footer__3JnHw",price:"styles_price__1bq1f"}},26:function(e,t,n){e.exports={details:"styles_details__1mVxS",header:"styles_header__2En0K",container:"styles_container__3LWZn",info:"styles_info__3A869",info_item:"styles_info_item__1P1mH"}},27:function(e,t,n){e.exports={card:"styles_card__1MAqk",topDetails:"styles_topDetails__3awTR",date:"styles_date__1V1J_",heading:"styles_heading__2Xx_k",status:"styles_status__3mzAc",done:"styles_done__2r0KG",bottomDetails:"styles_bottomDetails__3rEIA",price:"styles_price__15OB2"}},32:function(e,t,n){e.exports={menu:"style_menu__oQ45H",menu_item:"style_menu_item__Q49_V",description:"style_description__3G9Sx",btn_logout:"style_btn_logout__1zdUw",active:"style_active__1m76V"}},33:function(e,t,n){e.exports={group:"styles_group__3503Z",avatar:"styles_avatar__19JNT",more:"styles_more__s4YQf"}},34:function(e,t,n){e.exports={container:"styles_container__2eEut",statusContainer:"styles_statusContainer__2ew6L",list:"styles_list__jDMrp",glow:"styles_glow__23vPB"}},39:function(e,t,n){e.exports={dummy:"styles_dummy__gJl-A",dummy_top:"styles_dummy_top__1ZCRo",dummy_bottom:"styles_dummy_bottom__3pfrt"}},40:function(e,t,n){e.exports={list:"styles_list__1memZ",item:"styles_item__1ax6d",active:"styles_active__3BcLJ",nav:"styles_nav__1Qtj2",inactive:"styles_inactive__1bIEX"}},47:function(e,t,n){e.exports={total:"styles_total__2Q8NX",messages:"styles_messages__o9IcF",order_info:"styles_order_info__1tnQV",submit:"styles_submit__11q2-"}},48:function(e,t,n){e.exports={card:"styles_card__3kgIg",image:"styles_image__3jttx",name:"styles_name__OYNyJ",price:"styles_price__101m4",count:"styles_count__3ZrGx"}},49:function(e,t,n){e.exports={form:"style_form__1GeHz",link:"style_link__2fM2C",error:"style_error__3GLPo"}},50:function(e,t,n){e.exports={wrapper:"style_wrapper__U0znY",container:"style_container__Y6m5K",orders:"style_orders__2pSRM",stats:"style_stats__3t08I"}},51:function(e,t,n){e.exports={list:"styles_list__3tbwd",columns:"styles_columns__2YJgU",column:"styles_column__2UCID",done:"styles_done__3Uq6B"}},52:function(e,t,n){e.exports={wrapper:"style_wrapper__L4PoI",container:"style_container__2vRAk"}},53:function(e,t,n){e.exports={wrapper:"style_wrapper__12vMy",container:"style_container__3JOjr"}},62:function(e,t,n){e.exports={drag_icon:"styles_drag_icon__36v6L",component:"styles_component__rHzfY",hovered:"styles_hovered__2CJoX",dragged:"styles_dragged__29vgE"}},63:function(e,t,n){e.exports={modal:"styles_modal__1L7-B",container:"styles_container__14iGK",close:"styles_close__DF9RI"}},64:function(e,t,n){e.exports={form:"style_form__1hzHC",link:"style_link__32ksz",error:"style_error__dPbov"}},65:function(e,t,n){e.exports={form:"style_form__qCJE6",link:"style_link__11auC",error:"style_error__2BUV0"}},66:function(e,t,n){e.exports={wrapper:"style_wrapper__2OMhE",aside:"style_aside__3KTY2",error:"style_error__3k6gZ"}},67:function(e,t,n){e.exports={wrapper:"style_wrapper__VzfAI"}},89:function(e,t,n){e.exports={container:"styles_container__1vE3g",order_number:"styles_order_number__3r7KX"}},90:function(e,t,n){e.exports={container:"styles_container__2rl7S",groups:"styles_groups__3RXPz"}},91:function(e,t,n){e.exports={list:"styles_list__3gyQa",item:"styles_item__2KVoU"}},93:function(e,t,n){e.exports={wrapper:"style_wrapper__cC3NH",link:"style_link__1KFem"}},94:function(e,t,n){e.exports={wrapper:"style_wrapper__2H-UB",container:"style_container__1Tu7V"}},95:function(e,t,n){e.exports={form:"style_form__1lk7A",link:"style_link__DI4ot"}},96:function(e,t,n){e.exports={list:"styles_list__9YuiO",card:"styles_card__1LDKr"}},97:function(e,t,n){e.exports={avatar:"styles_avatar__30M6_",img:"styles_img__3_gZC"}},98:function(e,t,n){e.exports={header:"styles_header__DIGE4",content:"styles_content__2W7hx"}},99:function(e,t,n){e.exports={wrapper:"style_wrapper__2JC9n",form:"style_form__1P1gP",error:"style_error__2pHkp"}}},[[223,1,2]]]);
//# sourceMappingURL=main.66fc7b22.chunk.js.map